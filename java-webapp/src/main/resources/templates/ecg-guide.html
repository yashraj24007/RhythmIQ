<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECG Guide - RhythmIQ</title>
    <link rel="icon" type="image/svg+xml" th:href="@{/images/favicon.svg}">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding-bottom: 40px;
        }
        
        /* Navigation Bar */
        .navbar {
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: #4F46E5;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .navbar-brand img {
            width: 40px;
            height: 40px;
        }
        
        .navbar-menu {
            display: flex;
            gap: 2rem;
            align-items: center;
            list-style: none;
        }
        
        .navbar-menu a {
            text-decoration: none;
            color: #4B5563;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .navbar-menu a:hover, .navbar-menu a.active {
            color: #4F46E5;
        }
        
        .navbar-user {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        /* Hero Section */
        .hero {
            background: white;
            border-radius: 15px;
            padding: 3rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .hero h1 {
            color: #1F2937;
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .hero p {
            color: #6B7280;
            font-size: 1.2rem;
            line-height: 1.6;
        }
        
        /* ECG Basics Section */
        .section {
            background: white;
            border-radius: 15px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .section h2 {
            color: #4F46E5;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            border-left: 5px solid #4F46E5;
            padding-left: 1rem;
        }
        
        .section h3 {
            color: #1F2937;
            font-size: 1.5rem;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .section p {
            color: #4B5563;
            line-height: 1.8;
            margin-bottom: 1rem;
            font-size: 1.05rem;
        }
        
        .section ul {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }
        
        .section li {
            color: #4B5563;
            line-height: 1.8;
            margin-bottom: 0.5rem;
        }
        
        /* ECG Types Grid */
        .ecg-types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .ecg-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #ffffff 100%);
            border-radius: 12px;
            padding: 2rem;
            border: 2px solid transparent;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .ecg-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            border-color: #4F46E5;
        }
        
        .ecg-card-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .ecg-badge {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
        }
        
        .badge-F { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .badge-M { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .badge-N { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .badge-Q { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .badge-S { background: linear-gradient(135deg, #30cfd0 0%, #330867 100%); }
        .badge-V { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #333; }
        
        .ecg-card h3 {
            color: #1F2937;
            font-size: 1.4rem;
            margin: 0;
        }
        
        .ecg-card-subtitle {
            color: #6B7280;
            font-size: 0.95rem;
            font-style: italic;
            margin-bottom: 1rem;
        }
        
        .ecg-card p {
            color: #4B5563;
            line-height: 1.7;
            margin-bottom: 0.8rem;
        }
        
        .ecg-card strong {
            color: #1F2937;
        }
        
        .severity-indicator {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }
        
        .severity-low { background: #D1FAE5; color: #065F46; }
        .severity-medium { background: #FEF3C7; color: #92400E; }
        .severity-high { background: #FEE2E2; color: #991B1B; }
        .severity-critical { background: #FECACA; color: #7F1D1D; }
        
        /* Quick Facts */
        .quick-facts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .fact-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }
        
        .fact-card h4 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .fact-card p {
            color: rgba(255,255,255,0.9);
            font-size: 0.95rem;
        }
        
        /* CTA Button */
        .cta-section {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            color: white;
            margin-top: 2rem;
        }
        
        .cta-section h2 {
            color: white;
            margin-bottom: 1rem;
            border: none;
            padding: 0;
        }
        
        .cta-button {
            display: inline-block;
            padding: 1rem 2.5rem;
            background: white;
            color: #4F46E5;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.1rem;
            margin-top: 1rem;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 1rem;
            }
            
            .navbar-menu {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .section {
                padding: 1.5rem;
            }
            
            .ecg-types-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <a href="/dashboard" class="navbar-brand">
            <img th:src="@{/images/logo.svg}" alt="RhythmIQ Logo">
            <span>RhythmIQ</span>
        </a>
        <ul class="navbar-menu">
            <li><a th:href="@{/dashboard}">Dashboard</a></li>
            <li><a th:href="@{/upload}">Analyze ECG</a></li>
            <li><a th:href="@{/ecg-guide}" class="active">ECG Guide</a></li>
            <li><a th:href="@{/history}">History</a></li>
            <li><a th:href="@{/}">Home</a></li>
        </ul>
        <div class="navbar-user">
            <div class="user-avatar" th:text="${user.fullName.substring(0, 1).toUpperCase()}">D</div>
            <span th:text="${user.fullName}">Demo User</span>
        </div>
    </nav>
    
    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <h1>📊 Understanding Electrocardiograms (ECG)</h1>
            <p>A comprehensive guide to ECG patterns and their clinical significance</p>
        </div>
        
        <!-- What is ECG Section -->
        <div class="section">
            <h2>🫀 What is an ECG?</h2>
            <p>
                An <strong>Electrocardiogram (ECG or EKG)</strong> is a medical test that records the electrical activity 
                of the heart over a period of time. It's a non-invasive diagnostic tool that helps healthcare providers 
                detect various heart conditions, arrhythmias, and cardiac abnormalities.
            </p>
            
            <h3>How Does It Work?</h3>
            <p>
                The heart generates electrical impulses that trigger each heartbeat. These electrical signals spread through 
                the heart muscle, causing it to contract and pump blood. An ECG machine detects and amplifies these tiny 
                electrical changes on the skin, which are caused by the heart muscle's depolarization and repolarization 
                during each cardiac cycle.
            </p>
            
            <h3>Why is ECG Important?</h3>
            <ul>
                <li><strong>Detects heart rhythm abnormalities</strong> (arrhythmias)</li>
                <li><strong>Identifies heart attacks</strong> (myocardial infarction)</li>
                <li><strong>Monitors heart health</strong> in patients with existing conditions</li>
                <li><strong>Screens for heart disease</strong> before surgery</li>
                <li><strong>Evaluates symptoms</strong> like chest pain, palpitations, or shortness of breath</li>
                <li><strong>Assesses the effectiveness</strong> of cardiac treatments and medications</li>
            </ul>
            
            <!-- Quick Facts -->
            <div class="quick-facts">
                <div class="fact-card">
                    <h4>🎯 98%</h4>
                    <p>Accuracy in detecting major cardiac events</p>
                </div>
                <div class="fact-card">
                    <h4>⚡ 10s</h4>
                    <p>Average time to record a standard 12-lead ECG</p>
                </div>
                <div class="fact-card">
                    <h4>💰 Low Cost</h4>
                    <p>One of the most cost-effective cardiac tests</p>
                </div>
                <div class="fact-card">
                    <h4>🔬 Since 1903</h4>
                    <p>Over 120 years of proven diagnostic value</p>
                </div>
            </div>
        </div>
        
        <!-- ECG Types Section -->
        <div class="section">
            <h2>🏥 ECG Classification Types</h2>
            <p>
                Our AI-powered system analyzes ECG patterns and classifies them into six major categories. 
                Each category represents a distinct cardiac rhythm pattern with specific clinical implications.
            </p>
            
            <div class="ecg-types-grid">
                <!-- Type F: Fusion -->
                <div class="ecg-card">
                    <div class="ecg-card-header">
                        <div class="ecg-badge badge-F">F</div>
                        <div>
                            <h3>Fusion Beats</h3>
                            <div class="ecg-card-subtitle">Hybrid Ventricular Complexes</div>
                        </div>
                    </div>
                    <p>
                        <strong>Definition:</strong> Fusion beats occur when two pacemaker sites in the heart 
                        activate the ventricles simultaneously, creating a hybrid QRS complex that combines 
                        characteristics of both impulses.
                    </p>
                    <p>
                        <strong>Characteristics:</strong> Intermediate QRS morphology, variable appearance, 
                        occurs during ventricular arrhythmias or AV dissociation.
                    </p>
                    <p>
                        <strong>Clinical Significance:</strong> Often seen in ventricular tachycardia, can help 
                        confirm diagnosis of certain arrhythmias, generally benign if isolated.
                    </p>
                    <span class="severity-indicator severity-medium">Medium Risk</span>
                </div>
                
                <!-- Type M: Myocardial Infarction -->
                <div class="ecg-card">
                    <div class="ecg-card-header">
                        <div class="ecg-badge badge-M">M</div>
                        <div>
                            <h3>Myocardial Infarction</h3>
                            <div class="ecg-card-subtitle">Heart Attack Pattern</div>
                        </div>
                    </div>
                    <p>
                        <strong>Definition:</strong> ECG changes indicating acute or previous myocardial infarction 
                        (heart attack), where blood flow to part of the heart muscle is blocked, causing tissue damage.
                    </p>
                    <p>
                        <strong>Characteristics:</strong> ST-segment elevation or depression, pathological Q waves, 
                        T-wave inversions, evolving changes over time.
                    </p>
                    <p>
                        <strong>Clinical Significance:</strong> <strong style="color: #DC2626;">MEDICAL EMERGENCY!</strong> 
                        Requires immediate intervention (PCI, thrombolysis). Time-critical condition - "Time is muscle."
                    </p>
                    <span class="severity-indicator severity-critical">Critical - Emergency</span>
                </div>
                
                <!-- Type N: Normal -->
                <div class="ecg-card">
                    <div class="ecg-card-header">
                        <div class="ecg-badge badge-N">N</div>
                        <div>
                            <h3>Normal Sinus Rhythm</h3>
                            <div class="ecg-card-subtitle">Healthy Heart Pattern</div>
                        </div>
                    </div>
                    <p>
                        <strong>Definition:</strong> A regular heart rhythm originating from the sinoatrial (SA) node, 
                        the heart's natural pacemaker. This is the normal, healthy ECG pattern.
                    </p>
                    <p>
                        <strong>Characteristics:</strong> Heart rate 60-100 bpm, regular P waves before each QRS, 
                        normal PR interval (0.12-0.20s), narrow QRS complex (<0.12s).
                    </p>
                    <p>
                        <strong>Clinical Significance:</strong> Indicates healthy cardiac electrical conduction. 
                        No intervention needed. Continue routine monitoring and healthy lifestyle.
                    </p>
                    <span class="severity-indicator severity-low">Normal - No Risk</span>
                </div>
                
                <!-- Type Q: Unknown/Unclassifiable -->
                <div class="ecg-card">
                    <div class="ecg-card-header">
                        <div class="ecg-badge badge-Q">Q</div>
                        <div>
                            <h3>Unknown Pattern</h3>
                            <div class="ecg-card-subtitle">Unclassifiable Beat</div>
                        </div>
                    </div>
                    <p>
                        <strong>Definition:</strong> ECG patterns that don't fit into standard categories or are 
                        too ambiguous for automated classification. May represent artifacts, rare arrhythmias, 
                        or complex patterns.
                    </p>
                    <p>
                        <strong>Characteristics:</strong> Variable morphology, may include noise or artifacts, 
                        unusual QRS complexes, or combinations of multiple patterns.
                    </p>
                    <p>
                        <strong>Clinical Significance:</strong> Requires expert cardiologist review for proper 
                        interpretation. May be benign or significant depending on context.
                    </p>
                    <span class="severity-indicator severity-medium">Needs Review</span>
                </div>
                
                <!-- Type S: Supraventricular -->
                <div class="ecg-card">
                    <div class="ecg-card-header">
                        <div class="ecg-badge badge-S">S</div>
                        <div>
                            <h3>Supraventricular Ectopic</h3>
                            <div class="ecg-card-subtitle">Early Atrial Beats</div>
                        </div>
                    </div>
                    <p>
                        <strong>Definition:</strong> Premature heartbeats originating above the ventricles 
                        (in the atria or AV node). Also called supraventricular premature beats (SVPBs) or 
                        premature atrial contractions (PACs).
                    </p>
                    <p>
                        <strong>Characteristics:</strong> Early P wave with different morphology, narrow QRS complex 
                        (usually), compensatory pause may be absent or incomplete.
                    </p>
                    <p>
                        <strong>Clinical Significance:</strong> Usually benign, common in healthy individuals. 
                        Can be triggered by caffeine, stress, or fatigue. Monitor if frequent or symptomatic.
                    </p>
                    <span class="severity-indicator severity-low">Low Risk</span>
                </div>
                
                <!-- Type V: Ventricular -->
                <div class="ecg-card">
                    <div class="ecg-card-header">
                        <div class="ecg-badge badge-V">V</div>
                        <div>
                            <h3>Ventricular Ectopic</h3>
                            <div class="ecg-card-subtitle">Early Ventricular Beats</div>
                        </div>
                    </div>
                    <p>
                        <strong>Definition:</strong> Premature heartbeats originating from the ventricles, bypassing 
                        the normal conduction system. Also known as premature ventricular contractions (PVCs) or 
                        ventricular premature beats (VPBs).
                    </p>
                    <p>
                        <strong>Characteristics:</strong> Wide QRS complex (>0.12s), no preceding P wave, 
                        bizarre QRS morphology, full compensatory pause follows.
                    </p>
                    <p>
                        <strong>Clinical Significance:</strong> Can be benign or indicate underlying heart disease. 
                        Frequent PVCs (>10% of beats) may require treatment. Risk increases with structural heart disease.
                    </p>
                    <span class="severity-indicator severity-medium">Medium Risk</span>
                </div>
            </div>
        </div>
        
        <!-- How Our AI Works -->
        <div class="section">
            <h2>🤖 How Our AI Classification Works</h2>
            <p>
                RhythmIQ uses advanced machine learning algorithms trained on thousands of labeled ECG images 
                to automatically classify cardiac rhythms with <strong>83.3% accuracy</strong>.
            </p>
            
            <h3>Our Technology:</h3>
            <ul>
                <li><strong>Random Forest Classifier:</strong> Ensemble learning method for robust predictions</li>
                <li><strong>Image Preprocessing:</strong> Automated noise reduction and normalization</li>
                <li><strong>Feature Extraction:</strong> Advanced pattern recognition from ECG waveforms</li>
                <li><strong>Confidence Scoring:</strong> Each prediction includes a confidence percentage</li>
                <li><strong>Severity Assessment:</strong> Automatic risk stratification based on classification</li>
            </ul>
            
            <h3>Clinical Validation:</h3>
            <p>
                Our model has been tested against expert cardiologist annotations and achieves high accuracy 
                across all six ECG categories. However, AI predictions should always be reviewed by qualified 
                healthcare professionals for clinical decision-making.
            </p>
        </div>
        
        <!-- Call to Action -->
        <div class="cta-section">
            <h2>Ready to Analyze Your ECG?</h2>
            <p style="color: rgba(255,255,255,0.9); font-size: 1.1rem; margin-bottom: 1rem;">
                Upload your ECG image and get instant AI-powered analysis with confidence scoring
            </p>
            <a th:href="@{/upload}" class="cta-button">Analyze ECG Now →</a>
        </div>
    </div>
</body>
</html>
