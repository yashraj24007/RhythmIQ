<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Results - RhythmIQ</title>
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <header>
    <h1>ECG Analysis Results</h1>
    <nav>
      <a href="/">Home</a>
      <a href="/upload">Analyze Another</a>
    </nav>
  </header>
  <main th:if="${result}">
    <section>
      <h2>Prediction Summary</h2>
      <div class="result-card">
        <p><strong>Filename:</strong> <span th:text="${result.filename}"></span></p>
        <p><strong>Predicted Class:</strong> <span th:text="${result.predictedClass}"></span></p>
        <p><strong>Confidence:</strong> <span th:text="${#numbers.formatDecimal(result.confidence,1,3)}"></span></p>
        <p><strong>Severity:</strong> <span th:text="${result.severity}"></span> (<span th:text="${#numbers.formatDecimal(result.severityConfidence,1,3)}"></span>)</p>
        <p><strong>Class Description:</strong> <span th:text="${result.classDescription}"></span></p>
        <p><strong>Severity Description:</strong> <span th:text="${result.severityDescription}"></span></p>
        <p><strong>Analysis Time:</strong> <span th:text="${result.analysisTime}"></span></p>
      </div>
      <div>
        <h3>Uploaded ECG</h3>
        <img th:src="@{'/file/' + ${result.filename}}" alt="ECG image" style="max-width:400px;border:1px solid #ccc;" />
      </div>
    </section>
  </main>
  <footer>
    <small>&copy; 2025 RhythmIQ</small>
  </footer>
</body>
</html>